# 计算机网络概述

## 第一节 计算机网络基本概念

### 一、计算机网络的定义

计算机网络是**互连**的、**自治**的计算机的集合

- 互连：指利用通信链路连接相互独立的计算机系统
- 自治：互连的计算机系统彼此独立，不存在主从或者控制与被控制的关系

### 二、协议的定义

协议是网络通信实体之间在**数据交换**过程中需要遵循的**规则**或**约定**，是计算机网络有序运行的重要保证

协议的三要素：

1. 语法（syntax）：定义实体之间交换信息的格式与结构，或者定义实体（比如硬件设备）之间传输信号的电平等
2. 语义（semantics）：定义实体之间交换信息中需要发送（或包含）哪些控制信息，这些信息的具体含义，以及针对不同含义的控制信息，接收信息端应如何响应
3. 时序（timing）：定义实体之间交换信息的顺序以及如何匹配或适应彼此的速度

### 三、计算机网络的功能

计算机网络的功能是在不同主机之间实现快速的信息交换

计算机网络的核心功能是资源共享，包括：

1. 硬件资源共享
2. 软件资源共享
3. 信息资源共享

### 四、计算机网络的分类

1. 按**覆盖范围**分类：
   - 个域网（Personal Area Network，PAN）：1～10m，如蓝牙
   - 局域网（Local Area Network，LAN）：10m～1km，部署在局部区域内
   - 城域网（Metropolitan Area Network，MAN）：5～50km，覆盖一个城市范围
   - 广域网（Wide Area Network，WAN）：几十到几千千米，跨越更大地理空间
2. 按**拓扑结构**分类：星形拓扑结构、总线型拓扑结构、环形拓扑结构、网状拓扑结构、树形拓扑结构、混合拓扑结构
3. 按**交换方式**分类：电路交换网络、报文交换网络、分组交换网络
4. 按**网络用户属性**分类：公用网（public network）、专用网（private network）

## 第二节 计算机网络结构

大规模现代计算机网络的结构包括网络边缘（network edge）、接入网络（access network）与网络核心（network core）3部分

- 网络边缘：连接到网络上的所有端系统构成了网络边缘

- 接入网络：实现网络边缘的端系统与网络核心连接与接入的网络
  - 常见的接入网络技术包括：电话拨号接入、非对称数字用户线路 ADSL 、混合光纤同轴电缆 HFC 接入网络、局域网、移动接入网络

- 网络核心：网络核心是由通信链路互连的分组交换设备构成的网络，作用是实现网络边缘中主机之间的数据中继与转发

## 第三节 数据交换技术

### 一、数据交换的概念

数据交换是实现大规模网络核心上进行数据传输的技术基础

常见的数据交换技术包括：电路交换（circuit switching）、报文交换（message switching）、分组交换（packet switching）

### 二、电路交换

利用电路交换进行通信需要3个阶段：建立电路、传输数据、拆除电路

### 三、报文交换

报文交换也称为消息交换

工作过程：

- 发送方把要发送的信息附加上发送/接收主机的地址及其他控制信息，构成一个完整的报文
- 然后以报文为单位在交换网络的各结点之间以**存储-转发**的方式传送，直至送达目的主机

一个报文在每个结点的延迟时间，等于接收报文所需的时间加上向下一个结点转发所需的排队延迟时间之和

### 四、分组交换

基本原理：分组交换是目前计算机网络广泛采用的技术。分组交换需要将待传输数据（即报文）分割成较小的数据块，每个数据块附加上地址、序号等控制信息构成数据分组（packet），每个分组独立传输到目的地，目的地将收到的分组重新组装，还原为报文

分组传输过程通常也采用**存储-转发**交换方式

分组交换的优点：

1. 交换设备存储容量要求低
2. 交换速度快
3. 可靠传输效率高
4. 更加公平

## 第四节 计算机网络性能

### 一、速率与带宽

速率（rate）：是指网络单位时间内传送的数据量，用以描述网络传输数据的快慢，也称为数据传输速率或数据速率。速率的基本单位是 bit/s （位每秒）

带宽（bandwidth）：一条链路或信道能够不失真地传播电磁信号的最高频率与最低频率之差，称为信道的带宽，单位是 Hz （赫兹）

### 二、时延

时延（delay）：是指数据从网络中一个结点到达另一个结点（主机或交换设备等）所需的时间

分组中每跳（hop）传输过程主要产生4类延迟：结点处理时延（nodal processing delay）、排队时延（queueing delay）、传输时延（transmission delay）和传播时延（propagation delay）

### 三、时延带宽积

时延带宽积：一段物理链路的传播时延与链路带宽的乘积

### 四、丢包率

丢包率：常被用于评价和衡量网络性能的指标，在很大程度上可以反映网络的拥塞程度，因为引发网络丢包的主要因素是网络拥塞

### 五、吞吐量

吞吐量（throughput）：表示单位时间内源主机通过网络向目的主机实际送达的数据量，单位为 bit/s 或 B/s （字节每秒），记作 Thr

## 第五节 计算机网络体系结构

### 一、计算机网络分层体系结构

计算机网络体系结构：计算机网络所划分的层次以及各各层协议的集合

### 二、OSI 参考模型

开放系统互连（Open System Interconnection）参考模型，简称OSI参考模型，采用分层结构化技术，将整个计算机网络的通信分为 **7** 层

1. **物理层**：物理层的主要功能是在传输介质上实现无结构比特流传输。物理层另一项主要任务是规定数据终端设备（DTE）与数据通信设备（DCE）之间接口的相关特性，主要包括机械、电子、功能和规程 4 个方面的特性
2. **数据链路层**：数据链路层的主要功能是实现在相邻结点之间数据可靠而有效的传输。数据链路层还可以实现在相邻结点之间通信的流量控制
3. **网络层**：网络层解决的核心问题是如何将分组通过交换网络传送至目的主机，因此，网络层的主要功能是数据转发与路由
4. **传输层**：传输层的功能主要包括复用/分解（区分发送和接收主机上的进程）、端到端的可靠数据传输、连接控制、流量控制和拥塞控制机制等
5. **会话层**：会话层的主要功能是在建立会话时核实双方身份是否有权参与会话；确定双方支付通信费用；双方在各种选择功能方面取得一致；在会话建立以后，需要对进程间的对话进行管理与控制
6. **表示层**：表示层主要用于处理应用实体间交换数据的语法，其目的是解决格式和数据表示的差别，从而为应用层提供一个一致的数据格式，使字符、格式等有差异的设备之间相互通信。除此之外，表示层还可以实现文本压缩/解压缩、数据加密/解密、字符编码的转换等功能
7. **应用层**：应用层能为用户提供一个使用网络应用的“接口”

OSI参考模型有关术语

1. 数据单元：在层的实体之间传送的比特组称为数据单元
2. 服务访问点：相邻的服务是通过其接口面上的服务访问点（Service Access Point，SAP）进行的，N 层 SAP 就是（N+1）层可以访问 N 层的地方
3. 服务原语：第 N 层向（N+1）层提供服务，或第（N+1）层请求 N 层提供服务，都是用一组服务原语描述的
   - OSI 参考模型的原语有 4 类：请求（Request）、指示（Indication）、响应（Response）、证实（Confirm）

在分层的体系结构中，下层向上层提供服务通常有两种形式：面向连接的服务和无连接的服务

### 三、TCP/IP 参考模型

TCP/IP 参考模型分为**四**个层次，从上到下为：**应用层**、**传输层**、**网络互联层**、**网络接口层**

其中应用层与 OSI 应用层相对应，传输层与 OSI 传输层相对应，网络互联层与 OSI 网络层相对应，网络接口层与 OSI 数据链路层及物理层相对应

在 TCP/IP 参考模型中，对 OSI 表示层、会话层没有对应的协议

### 四、五层参考模型

结合 OSI 和 TCP/IP 参考模型，可以提出综合理论需求与实际网络的五层参考模型，包括：物理层、数据链路层、网络层、传输层与应用层，各层功能基本与 OSI参考模型对应

## 第六节 计算机网络与因特网发展简史

1. ARPAnet 是第一个分组交换计算机网络，也是当今因特网的祖先
2. 1972 年， ARPAnet 开发了第一个主机到主机的协议，网络控制协议（NCP）。 Ray Tomlinson 为 ARPAnet 编写了第一个电子邮件程序
3. 20 世纪 70 年代早期与中期，除了 ARPAnet 之外，还陆续诞生了许多其他分组交换网络，例如 ALOHAnet、Telenet 等。 Norman Abramson 在研制分组无线网络 ALOHAnet 时，设计了第一个多路访问控制协议 ALOHA 。 Metcalfe 与 Boggs 研制了基于有线共享广播链路的以太网，奠定了当今局域网技术的基础。到 20 世纪 70 年代末期， ARPAnet 已连接大约 200 台主机，公共因特网已现雏形
4. 到 20 世纪 80 年代，公共因特网上连接的主机数量达到 100000 台。 1986 年，创办了 NSFNET 。 在此期间， TCP/IP 协议簇逐渐成熟，并于 1983 年 1 月 1 日证实部署，替代 NCP
5. 20 世纪 90 年代，万维网应用诞生
6. 从 2000 年开始，因特网进入爆发式发展时期

## 习题

1. 什么是计算机网络？
2. 网络协议的三要素是什么？每个要素的含义是什么？
3. 计算机网络的功能是什么？
4. 按网络覆盖范围划分，主要有哪几类计算机网络？各有什么特点？
5. 按网络拓扑划分，主要有哪几类计算机网络？各有什么特点？
6. 计算机网络结构主要包括哪几部分？每部分的主要功能是什么？
7. 简要描述你了解的接入网络，这些接入网络都有什么特点？经常使用的是哪类接入网络？
8. 请简述电路交换工作过程以及电路交换的特点。
9. 什么是报文交换？什么是分组交换？试比较两者的优劣。
10. OSI 参考模型包括几层？每层主要功能是什么？
11. TCP/IP 参考模型包括几层？每层主要包括哪些协议？
